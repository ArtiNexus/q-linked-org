#!/bin/bash

# Hugo ç½‘ç«™éƒ¨ç½²è„šæœ¬
echo "ğŸš€ å¼€å§‹éƒ¨ç½² Hugo ç½‘ç«™..."

# æ„å»ºç½‘ç«™
hugo --minify

# å¦‚æœæ„å»ºæˆåŠŸï¼Œåˆ™æ¨é€åˆ° GitHub
if [ $? -eq 0 ]; then
    echo "âœ… ç½‘ç«™æ„å»ºæˆåŠŸ"
    
    # æ·»åŠ æ‰€æœ‰æ›´æ”¹
    git add .
    
    # æäº¤æ›´æ”¹
    git commit -m "chore: è‡ªåŠ¨éƒ¨ç½²æ›´æ–°"
    
    # æ¨é€åˆ°è¿œç¨‹ä»“åº“
    git push origin main
    
    echo "ğŸ‰ éƒ¨ç½²å®Œæˆï¼ç½‘ç«™å·²æ¨é€åˆ° GitHub"
else
    echo "âŒ æ„å»ºå¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯"
    exit 1
fi